server:
  port: 8088

# JPA
spring:
  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    url: jdbc:mariadb://${DB_HOST}:${DB_PORT}/resumeEditorDB
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
jpa:
  database: mysql
  database-platform: org.hibernate.dialect.MySQLDialect
  show-sql: true
  hibernate:
    ddl-auto: none
#    properties:
#      hibernate:
#        format_sql: true


#spring:
#  application:
#    name: resumeEditor
#  data:
#    mongodb:
#      database: resumeEditor
#      uri: mongodb+srv://blatherr:5guwmOptKmNjPHZv@resumeeditor.etlwzt4.mongodb.net/?retryWrites=true&w=majority&appName=resumeEditor
##      host: localhost
##      port: 27017
#  autoconfigure:
#    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

--- # Page Reload
spring:
  thymeleaf:
    cache: false
    prefix: classpath:/templates/
    suffix: .html
  devtools:
    livereload:
      enabled: true
    remote:
      restart:
        enabled: true
--- # Redis
spring:
  redis:
    host: ${REDIS_HOST}
    port: ${REDIS_PORT}
--- # SMTP
spring:
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${EMAIL_ADDRESS}
    password: ${EMAIL_PASSWORD}
    properties:
      mail.smtp.auth: true
      mail.smtp.starttls.enable: true
      mail.smtp.ssl.enable: false
--- # jwt
spring:
  jwt:
    secret: vmfhaltmskdlstkfkdgodyroqkfwkdbalroqkfwkdbalwelfajsefowie

---
spring:
  jackson:
    time-zone: Asia/Seoul
--- # Spring Batch Job enable
#spring:
#  batch:
#    job:
#      names: ${jobName} #환경변수 설정 필요
#    enable: false
#    jdbc:
#      initialize-schema: always  # batch 메타 테이블을 생성할려면 always -> never

--- #OAuth 설정
spring:
  security:
    oauth2:
      client:
        registration:
          naver:
            client-name: naver # 서비스 명
            client-id: ${NAVER_LOGIN_ID} # 서비스에서 발급받은 아이디
            client-secret: ${NAVER_LOGIN_SECRET} # 서비스에서 발급받은 비밀번호
            redirect-uri: https://reditor.me/login/oauth2/code/naver # 서비스에 등록한 로그인 성공 uri
            authorization-grant-type: authorization_code
            scope: name, email # 리소스 서버에서 가져올 데이터 범위
          google:
            client-name: google
            client-id: ${GOOGLE_LOGIN_ID}
            client-secret: ${GOOGLE_LOGIN_SECRET}
            redirect-uri: https://reditor.me/login/oauth2/code/google
            authorization-grant-type: authorization_code
            scope: profile, email
        provider:
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize # 네이버 서비스 로그인 창 주소
            token-uri: https://nid.naver.com/oauth2.0/token # 토큰 발급 서버 주소
            user-info-uri: https://openapi.naver.com/v1/nid/me # 사용자 정보 획득 주소 (리소스 서버)
            user-name-attribute: response # 응답 데이터 변수 (key값)
---
spring:
  profiles:
    include: oauth



openai:
  secret-key: ${GPT_API_KEY}
  url:
    model: https://api.openai.com/v1/models
    model-list: https://api.openai.com/v1/models/
    legacy-prompt: https://api.openai.com/v1/completions
    prompt: https://api.openai.com/v1/chat/completions
